<!DOCTYPE html>
<html>

<head>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.form/4.2.2/jquery.form.min.js" integrity="sha256-2Pjr1OlpZMY6qesJM68t2v39t+lMLvxwpa8QlRjJroA=" crossorigin="anonymous"></script>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

</head>
<body>

      <a href="https://github.com/nms553/nms553.github.io/edit/master/form.html">Github</a><br>
      <a href="https://docs.google.com/spreadsheets/d/16ASTzJs_relHeFrAUHYA3qA9yEjQ73WX85S0ruWXA4M/edit#gid=2064364514">Spreadsheet</a><br>
      <a href="https://docs.google.com/forms/d/e/1FAIpQLSefYgacyUaS-TSL4gk6USs57igvtn5J8JCJo-7GJLnkb1D2IQ/viewform?usp=sf_link">Google Form</a><br>
      
<form action="https://docs.google.com/forms/d/e/1FAIpQLSefYgacyUaS-TSL4gk6USs57igvtn5J8JCJo-7GJLnkb1D2IQ/formResponse"
      target="_self"
      id="bootstrapForm"
      method="POST">
    <fieldset>
        <h2>Junk<br><small></small></h2>
    </fieldset>


    <!-- Field type: "short" id: "77435402" -->
    <fieldset>
        <legend for="77435402">Name</legend>
        <div class="form-group">
            <select id="397249521" type="text" name="entry.397249521" class="form-control" >
            <option>Mike</option>
            <option>Dave</option>
            <option>Curt</option>
            <option>Tim</option>
            <option>Evan</option>
            <option>Moore</option>
            <option>Schriewer</option>
            <option>Nick</option>
            <option>Dean</option>
            <option>Kurt P</option>
            </select>
        </div>
    </fieldset>


    <!-- Field type: "short" id: "1531613874" -->
    <fieldset>
        <legend for="1531613874">Driver 1</legend>
        <div class="form-group">
            <input id="328809710" type="text" name="entry.328809710" class="form-control" >
        </div>
    </fieldset>


    <!-- Field type: "short" id: "1949100084" -->
    <fieldset>
        <legend for="1949100084">Driver 2</legend>
        <div class="form-group">
            <input id="930348254" type="text" name="entry.930348254" class="form-control" >
        </div>
    </fieldset>


    <!-- Field type: "short" id: "1088368853" -->
    <fieldset>
        <legend for="1088368853">Trashtalk</legend>
        <div class="form-group">
            <input id="1975990772" type="text" name="entry.1975990772" class="form-control" >
        </div>
    </fieldset>

    <input type="hidden" name="fvv" value="1">
    <input type="hidden" name="fbzx" value="-7267667985114462502">
    <!--
        CAVEAT: In multipages (multisection) forms, *pageHistory* field tells to google what sections we've currently completed.
        This usually starts as "0" for the first page, then "0,1" in the second page... up to "0,1,2..N" in n-th page.
        Keep this in mind if you plan to change this code to recreate any sort of multipage-feature in your exported form.
        We're setting this to the total number of pages in this form because we're sending all fields from all the section together.
    -->
    <input type="hidden" name="pageHistory" value="0">

    <input class="btn btn-primary" type="submit" value="Submit">
</form>

<script>
$('#bootstrapForm').submit(function (event) {
    event.preventDefault()
    var extraData = {}
    $('#bootstrapForm').ajaxSubmit({
        data: extraData,
        dataType: 'jsonp',  // This won't really work. It's just to use a GET instead of a POST to allow cookies from different domain.
        error: function () {
            // Submit of form should be successful but JSONP callback will fail because Google Forms
            // does not support it, so this is handled as a failure.
         //   alert('Form Submitted. Thanks.')
            // You can also redirect the user to a custom thank-you page:
             window.location = 'http://www.stupid-fast.com/form.html'
        }
    })
})
</script>
      <br>
    <table id="table" border="1" style="border-collapse: collapse;"></table><br>
    <a style="font-size: 0.75em;" href="https://github.com/nms553/nms553.github.io">Admin</a><br>
    <script>
      $(function() {
        var sheetUrl = 'https://spreadsheets.google.com/feeds/list/16ASTzJs_relHeFrAUHYA3qA9yEjQ73WX85S0ruWXA4M/4/public/full?alt=json';
        $.getJSON(sheetUrl, function(data) {
          var entry = data.feed.entry;
          console.log(entry);
          entry.forEach(function(item, index) {
            var x = document.getElementById("table");
            var tr = document.createElement("TR");
            var td1 = document.createElement("TD");
            var td2 = document.createElement("TD");
            var td3 = document.createElement("TD");
            var td4 = document.createElement("TD");
            td1.innerHTML = '<b>' + item.gsx$timestamp.$t + ' </b> <small>(' + item.gsx$name.$t + ')</small>';
            td1.setAttribute("nowrap", "true");
            tr.appendChild(td1);
            td2.innerHTML = item.gsx$driver1.$t;
            td2.setAttribute("nowrap", "true");
            tr.appendChild(td2);
            td3.innerHTML = item.gsx$driver2.$t;
            td3.setAttribute("nowrap", "true");
            tr.appendChild(td3);
            td4.innerHTML = '<small>' + item.gsx$trashtalk.$t + '</small>';
            td4.setAttribute("nowrap", "true");
            tr.appendChild(td4);
            if (index % 2 == 1) {
              tr.setAttribute("bgcolor", "#E7FFD0");
            }
            table.appendChild(tr);
          })
        });
      });
    </script>

</body>


</html>
